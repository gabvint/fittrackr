{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fit Trackr</title>
  <link rel="stylesheet" href="{% static 'css/hoverstyle.css' %}">
  <link
    rel="shortcut icon"
    type="image/png"
    href="https://imgur.com/2m8UXn7.png"
  />
  {% tailwind_css %}
  {% block head %}
  {% endblock %}

</head>
<body style="background-color:#e3dfcc;">
  <header>
    <nav class="bg-black text-cream font-questrial h-18">
      <div class="container flex justify-between p-3 text-lg">
        
    
        {% comment %} hamburger icon shows only on mobile {% endcomment %}
        <div class="block md:hidden">
          <button id="nav-toggle" class="text-cream focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
          </button>
        </div>

        {% comment %} for desktop {% endcomment %}
        <div class="hidden md:flex items-center w-full">
            {% if user.is_authenticated %}
     
              <div class="flex-shrink-0">
                <a href="{% url 'user_dashboard' %}">
                  <img class="w-28 md:w-32 shake-effect" src='https://imgur.com/2m8UXn7.png' alt="FitTrackr Logo" />
                </a>
              </div>

              <div class=" mx-auto flex">
                <div class=" flex gap-10 mr-24">
                    <a href="{% url 'set_goals' user.id %}">
                      <div class=" flex gap-1 hover:text-sage jump-effect">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>                          
                          Goals
                      </div>
                    </a>
                      
                    <a href="{% url 'create_workout' %}">
                    <div class=" flex gap-1 hover:text-sage jump-effect">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>                
                          Workout
                      </div>
                    </a>

                    <a href="{% url 'workout_log' %}">
                      <div class="flex gap-1 hover:text-sage jump-effect">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z" />
                        </svg>
                        Workout Log
                      </div>
                    </a>

                    <a href="{% url 'create_meals' %}">
                      <div class=" flex gap-1 hover:text-sage jump-effect">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>                
                          Meal
                      </div>
                    </a>

                   
                    <a href="{% url 'meal_log' %}">
                      <div class="flex gap-1 hover:text-sage jump-effect">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z" />
                        </svg>
                        Meal Log
                      </div>
                    </a>
                </div>
              </div>

              <div class=" flex gap-8 absolute right-8 items-center">
                <a href="{% url 'user_dashboard' %}">
                  <div class=" flex gap-1 hover:text-sage jump-effect">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                      </svg>
                      Home
                    </div>
                </a>
  
                <a href="{% url 'user_profile' user.id%}">
                  <div>
                    <img class=" w-10 h-10 rounded-full object-cover jump-effect" src="{{ user.profile_picture.url }}" alt="profilePicture">
                  </div>
                </a>

                <form id="logout-form" method="post" action="{% url 'logout' %}">
                  {% csrf_token %}
                  <div class=" flex gap-1 hover:text-sage jump-effect">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25" />
                      </svg>
                      <button type="submit">Sign Out</button>
                  </div>
                </form>
              </div>
          
        
            {% else %}
                <div class="flex-shrink-0">
                  <a href="{% url 'home' %}">
                    <img class="w-28 md:w-32 shake-effect" src='https://imgur.com/2m8UXn7.png' alt="FitTrackr Logo" />
                  </a>
                </div>

                <div class="flex gap-10 absolute right-8">
                  <a class="hover:text-sage jump-effect" href="{% url 'signin' %}">Sign In</a>
                  <a class="hover:text-sage jump-effect" href="{% url 'signup' %}">Sign Up</a>
                </div>
            {% endif %}
            </div>

            
        </div>
       

      <!-- Mobile Menu (hidden by default, toggled by hamburger) -->
      <div id="mobile-menu" class="hidden md:hidden z-50 w-full h-96 bg-black text-cream py-4">
        <ul class="flex flex-col space-y-4 px-6 text-lg">
          {% if user.is_authenticated %}
            <li class=" hover:text-sage"><a href="{% url 'user_dashboard' %}">Home</a></li>
            <li class=" hover:text-sage"><a href="{% url 'set_goals' user.id %}">Add Goals</a></li>
            <li class=" hover:text-sage"><a href="{% url 'create_workout' %}">Add Workout</a></li>
            <li class=" hover:text-sage"><a href="{% url 'workout_log' %}">Workout Log</a></li>
            <li class=" hover:text-sage"><a href="{% url 'create_meals' %}">Add Meal</a></li>
            <li class=" hover:text-sage"><a href="{% url 'meal_log' %}">Meal Log</a></li>
            <li class=" hover:text-sage"><a href="{% url 'user_profile' user.id %}">My Profile</a></li>
            <li class=" hover:text-sage">
              <form id="logout-form" method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit">Sign Out</button>
              </form>
            </li>
          {% else %}
            <li class=" hover:text-sage"><a href="{% url 'signin' %}">Sign In</a></li>
            <li class=" hover:text-sage"><a href="{% url 'signup' %}">Sign Up</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>

  </header>

  <main>
    {% block content %}
    {% endblock %}
  </main>

  <script>
    const navToggle = document.getElementById('nav-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    navToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>
